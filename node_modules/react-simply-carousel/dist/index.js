!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ReactSimplyCarousel=t(e.React)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){a=!0,i=e}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=["responsiveProps"],m=["minWidth","maxWidth"],v=["style","onClickCapture"],h=["style"],b=["style","onTouchStart","onMouseDown","onTransitionEnd"],p=["children","show"],y=["children","show"],w=["className","style"],x=["className","style"],g=["className","onClick","style"],S=["props"];function C(t){var r=t.responsiveProps,o=void 0===r?[]:r,d=a(t,f),s=l(e.useState(0),2),C=s[0],E=s[1],k=l(e.useState(d.activeSlideIndex),2),T=k[0],I=k[1],O=e.useRef(null),L=e.useRef(null),j=e.useRef(null),M=e.useRef(0),P=e.useRef(!1),W=e.useRef(""),A=e.useRef(null),R=e.useRef(null),X=e.useRef(0),N=e.useRef(T),D=o.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minWidth,r=void 0===n?0:n,o=t.maxWidth,c=void 0===o?null:o,l=a(t,m);return C>r&&(!c||C<=c)?i(i({},e),l):e}),d),F=e.Children.toArray(D.children),V=C?i(i({},D),{},{activeSlideIndex:Math.max(0,Math.min(D.activeSlideIndex,F.length-1)),itemsToShow:Math.min(F.length,D.itemsToShow||0),itemsToScroll:Math.min(F.length,D.itemsToScroll||1)}):d,z=V.containerProps,B=(z=void 0===z?{}:z).style,q=void 0===B?{}:B,H=z.onClickCapture,U=void 0===H?null:H,$=a(z,v),G=V.innerProps,J=(G=void 0===G?{}:G).style,K=void 0===J?{}:J,Q=a(G,h),Y=V.itemsListProps,Z=(Y=void 0===Y?{}:Y).style,_=void 0===Z?{}:Z,ee=Y.onTouchStart,te=void 0===ee?null:ee,ne=Y.onMouseDown,re=void 0===ne?null:ne,ie=Y.onTransitionEnd,oe=void 0===ie?null:ie,ce=a(Y,b),ae=V.backwardBtnProps,le=(ae=void 0===ae?{}:ae).children,ue=void 0===le?null:le,de=ae.show,se=void 0===de||de,fe=a(ae,p),me=V.forwardBtnProps,ve=(me=void 0===me?{}:me).children,he=void 0===ve?null:ve,be=me.show,pe=void 0===be||be,ye=a(me,y),we=V.activeSlideProps,xe=(we=void 0===we?{}:we).className,ge=void 0===xe?"":xe,Se=we.style,Ce=void 0===Se?{}:Se,Ee=a(we,w),ke=V.visibleSlideProps,Te=(ke=void 0===ke?{}:ke).className,Ie=void 0===Te?"":Te,Oe=ke.style,Le=void 0===Oe?{}:Oe,je=a(ke,x),Me=V.updateOnItemClick,Pe=void 0!==Me&&Me,We=V.activeSlideIndex,Ae=V.onRequestChange,Re=V.speed,Xe=void 0===Re?0:Re,Ne=V.delay,De=void 0===Ne?0:Ne,Fe=V.easing,Ve=void 0===Fe?"linear":Fe,ze=V.itemsToShow,Be=void 0===ze?0:ze,qe=V.itemsToScroll,He=void 0===qe?1:qe,Ue=V.children,$e=V.onAfterChange,Ge=V.autoplay,Je=void 0!==Ge&&Ge,Ke=V.autoplayDirection,Qe=void 0===Ke?"forward":Ke,Ye=V.disableNavIfAllVisible,Ze=void 0===Ye||Ye,_e=V.hideNavIfAllVisible,et=void 0===_e||_e,tt=V.centerMode,nt=void 0!==tt&&tt,rt=V.infinite,it=void 0===rt||rt,ot=V.disableNavIfEdgeVisible,ct=void 0===ot||ot,at=V.disableNavIfEdgeActive,lt=void 0===at||at,ut=V.dotsNav,dt=void 0===ut?{}:ut,st=V.persistentChangeCallbacks,ft=void 0!==st&&st,mt=V.autoplayDelay,vt=void 0===mt?0:mt,ht=dt||{},bt=ht.show,pt=void 0!==bt&&bt,yt=ht.containerProps,wt=void 0===yt?{}:yt,xt=ht.itemBtnProps,gt=void 0===xt?{}:xt,St=ht.activeItemBtnProps,Ct=void 0===St?{}:St,Et=e.Children.count(Ue)-1,kt=Be===F.length,Tt=et&&kt,It=Ze&&kt,Ot=We-T==0||!Xe&&!De?"none":"transform ".concat(Xe,"ms ").concat(Ve," ").concat(De,"ms"),Lt=e.useCallback((function(e){var t=e.correctionSlideIndex,n=e.prevCorrectionSlideIndex,r=e.curActiveSlideIndex,i=j.current.offsetWidth,o=j.current.children,c=o.length,a=it?u(o).slice(c/3-n,c/3-n+c/3):u(o),l=a[r].offsetWidth,d=Be?a.reduce((function(e,t,n){return n>=r&&n<r+Be||n<r&&n<r+Be-a.length?e+t.offsetWidth:e}),0):L.current.offsetWidth,s=i-d,f=nt&&it?-(d-l)/2:0,m=it?i/3:0,v=t-r==0?0:"forward"===W.current&&r<t?m:"backward"===W.current&&r>t?-m:0,h=r-t!=0,b=function(e){var t=a.reduce((function(t,n,r){return r>=e?t:t+(n.offsetWidth||0)}),0);return it?t:Math.min(s,t)},p=h&&it?b(t):0,y=h||!it?b(r):0,w=It?0:y-p+f+v+m,x="translateX(-".concat(w,"px)"),g=it?m+f:Math.min(s,a.reduce((function(e,t,n){return n<r?e+t.offsetWidth:e}),0)),S=g+d,C=a.map((function(e,t){return{slideIndex:t,htmlElement:e}})),E=it?[].concat(u(a.slice(r).map((function(e,t){return{slideIndex:t+r,htmlElement:e}}))),u(C),u(C),u(a.slice(0,r).map((function(e,t){return{slideIndex:t,htmlElement:e}})))):C,k=E.reduce((function(e,t){var n=t.slideIndex,r=t.htmlElement.offsetWidth;return(e.summ>=g&&e.summ<S||e.summ+r>g&&e.summ+r<=S)&&e.items.push({slideIndex:n,isFullyVisible:e.summ+r<=S&&e.summ>=g}),e.summ+=r,e}),{summ:0,items:[]}),T=!!k.items.find((function(e){return 0===e.slideIndex})),I=!!k.items.find((function(e){return e.slideIndex===a.length-1}));return{slidesHTMLElements:a,innerMaxWidth:d,itemsListMaxTranslateX:s,activeSlideWidth:l,offsetCorrectionForCenterMode:f,offsetCorrectionForInfiniteMode:m,itemsListTranslateX:w,itemsListTransform:x,visibleSlides:k.items,isFirstSlideVisible:T,isLastSlideVisible:I}}),[nt,It,it,Be]),jt=C?Lt({prevCorrectionSlideIndex:N.current,curActiveSlideIndex:We,correctionSlideIndex:T}):{},Mt=jt.innerMaxWidth,Pt=void 0===Mt?0:Mt,Wt=jt.itemsListMaxTranslateX,At=void 0===Wt?0:Wt,Rt=jt.activeSlideWidth,Xt=void 0===Rt?0:Rt,Nt=jt.offsetCorrectionForCenterMode,Dt=void 0===Nt?0:Nt,Ft=jt.offsetCorrectionForInfiniteMode,Vt=void 0===Ft?0:Ft,zt=jt.itemsListTranslateX,Bt=void 0===zt?0:zt,qt=jt.itemsListTransform,Ht=void 0===qt?"none":qt,Ut=jt.visibleSlides,$t=void 0===Ut?[]:Ut,Gt=e.useCallback((function(e){if("forward"===e){var t=We+He;return t>Et?it?t-Et-1:We:t}if("backward"===e){var n=We-He;return n<0?it?Et+1+n:We:n}return We}),[We,He,Et,it]),Jt=e.useCallback((function(e,t){if(W.current=t,j.current.style.transition=Xe||De?"transform ".concat(Xe,"ms ").concat(Ve," ").concat(De,"ms"):"none",e!==We||ft){clearTimeout(A.current);var n=Lt({correctionSlideIndex:T,prevCorrectionSlideIndex:T,curActiveSlideIndex:e}),r=n.visibleSlides,i=n.isFirstSlideVisible,o=n.isLastSlideVisible;Ae(e,{visibleSlides:r,isFirstSlideVisible:i,isLastSlideVisible:o})}else M.current=0,j.current.style.transform="translateX(-".concat(Dt+Vt+(it?0:Bt),"px)")}),[ft,We,Dt,De,Ve,Xe,Ae,Vt,it,Bt,T,Lt]),Kt=e.useCallback((function(){Je&&(clearTimeout(A.current),A.current=setTimeout((function(){Jt(Gt(Qe),Qe)}),vt||De))}),[Je,Qe,vt,Jt,Gt,De]),Qt=e.useCallback((function(e){P.current&&(e.preventDefault(),e.stopPropagation(),U&&U(e))}),[U]),Yt=e.useCallback((function(){Jt(Gt("backward"),"backward")}),[Jt,Gt]),Zt=e.useCallback((function(e){P.current=!0;var t=e.touches&&e.touches[0]?e.touches[0].clientX:e.clientX,n=M.current-t+Dt+Vt+(it?0:Bt),r=j.current.offsetWidth-L.current.offsetWidth,i=Math.max(Math.min(0,-n),-r);j.current.style.transition="none",j.current.style.transform="translateX(".concat(i,"px)")}),[Dt,Vt,it,Bt]),_t=e.useCallback((function(e){if(j.current.removeEventListener("mouseout",_t),j.current.removeEventListener("dragstart",_t),document.removeEventListener("mousemove",Zt),document.removeEventListener("mouseup",_t),document.removeEventListener("touchmove",Zt),document.removeEventListener("touchend",_t),P.current){var t=e.changedTouches&&e.changedTouches.length?e.changedTouches[e.changedTouches.length-1].clientX:e.clientX,n=M.current-t,r=n>Xt/2?{index:Gt("forward"),direction:"forward"}:n<-Xt/2?{index:Gt("backward"),direction:"backward"}:{index:We,direction:"forward"};r.index===We&&(P.current=!1),Jt(r.index,r.direction)}}),[We,Xt,Jt,Gt,Zt]),en=e.useCallback((function(e){clearTimeout(A.current),P.current||(M.current=e.clientX,document.addEventListener("mousemove",Zt),document.addEventListener("mouseup",_t),j.current.addEventListener("mouseout",_t),j.current.addEventListener("dragstart",_t)),re&&re(e)}),[Zt,_t,re]),tn=e.useCallback((function(e){clearTimeout(A.current),P.current||(M.current=e.touches[0].clientX,document.addEventListener("touchmove",Zt),document.addEventListener("touchend",_t)),te&&te(e)}),[Zt,_t,te]),nn=e.useCallback((function(e){I(We),oe&&oe(e)}),[We,oe]),rn=e.useCallback((function(){Jt(Gt("forward"),"forward")}),[Jt,Gt]),on=function(e,t,n){return e.map((function(e,r){var o=e.props,c=(o=void 0===o?{}:o).className,l=void 0===c?"":c,u=o.onClick,d=void 0===u?null:u,s=o.style,f=void 0===s?{}:s,m=a(o,g),v=a(e,S),h=it?X.current>=F.length?"forward":"backward":r>=We?"forward":"backward",b=r+t===We,p=$t.find((function(e){return e.slideIndex===r+t})),y="".concat(l," ").concat(h," ").concat(b?ge:""," ").concat(p?Ie:""),w=i(i(i(i({},f),p?Le:{}),b?Ce:{}),{},{boxSizing:"border-box",margin:0}),x=!n&&Pe?function(e){var t=e.direction,n=e.index,r=e.onClick;return function(e){Jt(n,t||(We<n?"forward":"")||(We>n?"backward":"")),r&&r(e)}}({direction:h,index:r+t,onClick:d}):d,C=i(i(i({role:"tabpanel",className:y,style:w,onClick:x},m),p?je:{}),b?Ee:{});return X.current+=1,i({props:C},v)}))};return e.useEffect((function(){return M.current=0,T===We&&(P.current=!1),W.current="",We!==T?Xe||De||I(We):($e&&$e(We,T),(it||"forward"===Qe&&We!==Et||"backward"===Qe&&0!==We)&&Kt()),function(){clearTimeout(A.current)}}),[T,We,$e,Xe,De,Kt,it,Et,Qe]),e.useEffect((function(){return C&&Kt(),function(){clearTimeout(A.current)}}),[C]),e.useEffect((function(){var e=j.current;function t(){clearTimeout(R.current),clearTimeout(A.current),R.current=setTimeout((function(){C!==window.innerWidth&&E(window.innerWidth)}),400)}return C!==window.innerWidth&&E(window.innerWidth),window.addEventListener("resize",t),function(){clearTimeout(R.current),window.removeEventListener("resize",t),document.removeEventListener("mousemove",Zt),document.removeEventListener("mouseup",_t),document.removeEventListener("touchmove",Zt),document.removeEventListener("touchend",_t),e.removeEventListener("mouseout",_t),e.removeEventListener("dragstart",_t)}}),[Zt,_t]),X.current=0,N.current=T,n.default.createElement("div",c({onClickCapture:Qt,style:i({display:"flex",flexFlow:"row wrap",boxSizing:"border-box",justifyContent:"center",width:"100%"},q)},$,{ref:O}),se&&!Tt&&n.default.createElement("button",c({},fe,{type:"button",onClick:(0===Bt&&ct||0===We&&lt)&&!it?void 0:Yt,disabled:"boolean"==typeof fe.disabled?fe.disabled:!(!(0===Bt&&ct||0===We&&lt)||it)}),ue),n.default.createElement("div",c({},Q,{style:i(i({},K),{},{display:"flex",boxSizing:"border-box",flexFlow:"row wrap",padding:"0",overflow:"hidden",maxWidth:Pt?"".concat(Pt,"px"):void 0,flex:Pt?void 0:"1 0"}),ref:L}),n.default.createElement("div",c({},ce,{style:i(i({},_),{},{display:"flex",boxSizing:"border-box",outline:"none",transition:Ot,transform:Ht}),onTouchStart:It?void 0:tn,onMouseDown:It?void 0:en,onTransitionEnd:Xe||De?nn:void 0,tabIndex:-1,role:"presentation",ref:j}),it&&on(F.slice(T),T,It),on(F,0,It),it&&on(F,0,It),it&&on(F.slice(0,T),0,It))),pe&&!Tt&&n.default.createElement("button",c({},ye,{type:"button",onClick:(Bt===At&&ct||We===Et&&lt)&&!it?void 0:rn,disabled:"boolean"==typeof ye.disabled?ye.disabled:!(!(Bt===At&&ct||We===Et&&lt)||it)}),he),!!pt&&n.default.createElement("div",c({style:{width:"100%",display:"flex",justifyContent:"center"}},wt),Array.from({length:Math.ceil(F.length/He)}).map((function(e,t){return n.default.createElement("button",c({type:"button",key:t,title:"".concat(t)},gt,Math.min(t*He,F.length-1)===We?Ct:{},{onClick:function(){Jt(Math.min(t*He,F.length-1),Math.min(t*He,F.length-1)>We?"forward":"backward")}}))}))))}return e.memo(C)}));
